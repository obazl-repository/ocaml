load("//profile:BUILD.bzl", "cc_build_profile")
exports_files(["BUILD.bazel"])

ARCH        = "amd64"
PREFIX      = "/usr/local"
EXEC_PREFIX = PREFIX if "${prefix}" == "${prefix}" else "${prefix}"
LIBDIR = EXEC_PREFIX + "/lib/ocaml" if "${exec_prefix}/lib/ocaml" == "${exec_prefix}/lib/ocaml" else "${exec_prefix}/lib/ocaml"

## FIXME: give this a more expressive name, e.g.
# //toolchain/profile/system
# or better, //profiles/system
# then tc profiles in //profiles/tc
cc_build_profile(
    name        = "local",
    ARCH        = ARCH,
    MODEL       = "default",
    SYSTEM      = "macosx",
    HOST        = "x86_64-apple-darwin22.1.0",
    TARGET      = "x86_64-apple-darwin22.1.0",

    PREFIX      = PREFIX,
    BINDIR      = "${exec_prefix}/bin",
    EXEC_PREFIX = EXEC_PREFIX,
    LIBDIR      = LIBDIR,
    visibility  = ["//visibility:public"]
)
